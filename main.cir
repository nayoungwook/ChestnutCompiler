#LOAD ship "ship.png" 2


#LOAD bullet "bullet.png" 3


#LOAD enemy "enemy.png" 4


#FONT Godo "Godo.ttf" 6


OBJECT 0 (Enemy) -1 {
$INITIALIZE 0 (constructor) default void {
    @PUSH_INTEGER 0 0

    @PUSH_INTEGER 0 0

@VECTOR 2 0

@STORE_CLASS 0 (position) 0
@PUSH_INTEGER 100 0

@STORE_CLASS 1 (width) 0
@PUSH_INTEGER 100 0

@STORE_CLASS 2 (height) 0
@PUSH_INTEGER 0 0

@STORE_CLASS 3 (rotation) 0
@PUSH_NULL 0



@STORE_CLASS 4 (sprite) 0

@PUSH_NULL 10
@STORE_CLASS 5 (game) 10

@PUSH_INTEGER 5 11

@STORE_CLASS 6 (hp) 11

}
FUNC 0 (damage) public void v int  {
    @LOAD_LOCAL 0 (v) 23




    @PUSH_THIS 0

@LOAD_ATTR 6 (hp) 0



    @SUB 23
    @PUSH_THIS 0

@STORE_ATTR 6 (hp) 0


}

FUNC 1 (tick) public void  {
        @PUSH_INTEGER 5 27

@PUSH_INTEGER -1 0

@MUL 0

        @PUSH_INTEGER 0 27

    @VECTOR 2 27

    @PUSH_THIS 0

@LOAD_ATTR 0 (position) 0



    @ADD 27
    @PUSH_THIS 0

@STORE_ATTR 0 (position) 0


    @PUSH_INTEGER 0 29

    @PUSH_THIS 29

@LOAD_ATTR 6 (hp) 29



    @EQ_GREATER 0

    @IF 0x2 29
    @PUSH_THIS 30

@LOAD_ATTR 5 (game) 30

@LOAD_ATTR 2 (enemies) 30

@PUSH_THIS 30



@CALL_ATTR 2 (remove) 1 30



    @GOTO 0x1 29
    @LABEL 0x2 29
    @LABEL 0x1 29

}

FUNC 2 (init) public void  {
}

FUNC 3 (render) public void  {
}

$CONSTRUCTOR 0 (constructor) default void game Game {
@PUSH_STRING "enemy" 14
@PUSH_THIS 0

@STORE_ATTR 4 (sprite) 0


@LOAD_LOCAL 0 (game) 15



@PUSH_THIS 0

@STORE_ATTR 5 (game) 0


@PUSH_INTEGER 60 16
@PUSH_THIS 0

@STORE_ATTR 1 (width) 0


@PUSH_INTEGER 60 17
@PUSH_THIS 0

@STORE_ATTR 2 (height) 0


    @PUSH_INTEGER 300 19

    @PUSH_INTEGER 400 19

@PUSH_INTEGER 400 19

@PUSH_INTEGER -1 0

@MUL 0

    @CALL_BUILTIN 11 (random_range) 2 19

@VECTOR 2 19
@PUSH_THIS 0

@STORE_ATTR 0 (position) 0


}

}

OBJECT 1 (Bullet) -1 {
$INITIALIZE 0 (constructor) default void {
    @PUSH_INTEGER 0 0

    @PUSH_INTEGER 0 0

@VECTOR 2 0

@STORE_CLASS 0 (position) 0
@PUSH_INTEGER 100 0

@STORE_CLASS 1 (width) 0
@PUSH_INTEGER 100 0

@STORE_CLASS 2 (height) 0
@PUSH_INTEGER 0 0

@STORE_CLASS 3 (rotation) 0
@PUSH_NULL 0



@STORE_CLASS 4 (sprite) 0

@PUSH_FLOAT 13.4f 37

@STORE_CLASS 5 (speed) 37

@PUSH_NULL 38



@STORE_CLASS 6 (game) 38

@PUSH_NULL 39
@STORE_CLASS 7 (xv) 39
@PUSH_NULL 39
@STORE_CLASS 8 (yv) 39

}
FUNC 0 (tick) public void  {
        @LOAD_CLASS 8 (yv) 54



        @LOAD_CLASS 7 (xv) 54



    @VECTOR 2 54

    @PUSH_THIS 0

@LOAD_ATTR 0 (position) 0



    @ADD 54
    @PUSH_THIS 0

@STORE_ATTR 0 (position) 0


    @PUSH_INTEGER 400 67

    @PUSH_THIS 67

@LOAD_ATTR 0 (position) 67

@LOAD_ATTR 1 (y) 67



    @EQ_LESSER 0

    @IF 0x4 67
    @PUSH_THIS 68

@LOAD_ATTR 6 (game) 68

@LOAD_ATTR 1 (bullets) 68

@PUSH_THIS 68



@CALL_ATTR 2 (remove) 1 68



    @GOTO 0x3 67
    @LABEL 0x4 67
    @LABEL 0x3 67

}

FUNC 1 (init) public void  {
}

FUNC 2 (render) public void  {
}

$CONSTRUCTOR 0 (constructor) default void game Game ship Ship rot float {
@PUSH_STRING "bullet" 42
@PUSH_THIS 0

@STORE_ATTR 4 (sprite) 0


@PUSH_INTEGER 20 43
@PUSH_THIS 0

@STORE_ATTR 1 (width) 0


@PUSH_INTEGER 20 44
@PUSH_THIS 0

@STORE_ATTR 2 (height) 0


@LOAD_LOCAL 0 (game) 45



@PUSH_THIS 0

@STORE_ATTR 6 (game) 0


@LOAD_LOCAL 1 (ship) 46


@LOAD_ATTR 0 (position) 46


@PUSH_THIS 0

@STORE_ATTR 0 (position) 0


@PUSH_INTEGER 180 47

@LOAD_LOCAL 2 (rot) 47




@ADD 0
@PUSH_THIS 0

@STORE_ATTR 3 (rotation) 0


@LOAD_CLASS 5 (speed) 49



@PUSH_FLOAT 3.14f 49

@PUSH_INTEGER 180 49

@PUSH_INTEGER 90 49

@LOAD_LOCAL 2 (rot) 49




@ADD 0

@DIV 0

@MUL 0

    @CALL_BUILTIN 7 (cos) 1 49

@MUL 0
@PUSH_THIS 0

@STORE_ATTR 7 (xv) 0


@LOAD_CLASS 5 (speed) 50



@PUSH_FLOAT 3.14f 50

@PUSH_INTEGER 180 50

@PUSH_INTEGER 90 50

@LOAD_LOCAL 2 (rot) 50




@ADD 0

@DIV 0

@MUL 0

    @CALL_BUILTIN 6 (sin) 1 50

@MUL 0
@PUSH_THIS 0

@STORE_ATTR 8 (yv) 0


}

}

OBJECT 2 (Ship) -1 {
$INITIALIZE 0 (constructor) default void {
    @PUSH_INTEGER 0 0

    @PUSH_INTEGER 0 0

@VECTOR 2 0

@STORE_CLASS 0 (position) 0
@PUSH_INTEGER 100 0

@STORE_CLASS 1 (width) 0
@PUSH_INTEGER 100 0

@STORE_CLASS 2 (height) 0
@PUSH_INTEGER 0 0

@STORE_CLASS 3 (rotation) 0
@PUSH_NULL 0



@STORE_CLASS 4 (sprite) 0

@PUSH_FLOAT 4.5f 75

@STORE_CLASS 5 (speed) 75

@PUSH_NULL 76



@STORE_CLASS 6 (game) 76

@PUSH_FLOAT 0f 77

@STORE_CLASS 7 (shoot_timer) 77

}
FUNC 0 (tick) public void  {
    @KEYBOARD up 88

    @IF 0x6 88
        @LOAD_CLASS 5 (speed) 89



        @PUSH_INTEGER 0 89

    @VECTOR 2 89

    @PUSH_THIS 0

@LOAD_ATTR 0 (position) 0



    @ADD 89
    @PUSH_THIS 0

@STORE_ATTR 0 (position) 0


    @GOTO 0x5 88
    @LABEL 0x6 88
    @LABEL 0x5 88

    @KEYBOARD down 90

    @IF 0x8 90
        @LOAD_CLASS 5 (speed) 91



        @PUSH_INTEGER 0 91

    @VECTOR 2 91

    @PUSH_THIS 0

@LOAD_ATTR 0 (position) 0



    @SUB 91
    @PUSH_THIS 0

@STORE_ATTR 0 (position) 0


    @GOTO 0x7 90
    @LABEL 0x8 90
    @LABEL 0x7 90

    @KEYBOARD left 92

    @IF 0xa 92
        @PUSH_INTEGER 0 93

        @LOAD_CLASS 5 (speed) 93



    @VECTOR 2 93

    @PUSH_THIS 0

@LOAD_ATTR 0 (position) 0



    @SUB 93
    @PUSH_THIS 0

@STORE_ATTR 0 (position) 0


    @GOTO 0x9 92
    @LABEL 0xa 92
    @LABEL 0x9 92

    @KEYBOARD right 94

    @IF 0xc 94
        @PUSH_INTEGER 0 95

        @LOAD_CLASS 5 (speed) 95



    @VECTOR 2 95

    @PUSH_THIS 0

@LOAD_ATTR 0 (position) 0



    @ADD 95
    @PUSH_THIS 0

@STORE_ATTR 0 (position) 0


    @GOTO 0xb 94
    @LABEL 0xc 94
    @LABEL 0xb 94

    @PUSH_INTEGER 1 97

    @PUSH_THIS 97

@LOAD_ATTR 7 (shoot_timer) 97



    @GREATER 0

    @IF 0xe 97
    @PUSH_FLOAT 0.1f 98

    @PUSH_THIS 0

@LOAD_ATTR 7 (shoot_timer) 0



    @ADD 98
    @PUSH_THIS 0

@STORE_ATTR 7 (shoot_timer) 0


    @GOTO 0xd 97
    @LABEL 0xe 97
    @KEYBOARD space 101

    @IF 0x12 101
    @PUSH_INTEGER 0 102
@PUSH_THIS 0

@STORE_ATTR 7 (shoot_timer) 0


    @PUSH_INTEGER 0 104

    @STORE_LOCAL 0 (i) 0

    @GOTO 0x13 104
    @LABEL 0x14 104
    @PUSH_THIS 105

@LOAD_ATTR 6 (game) 105

@LOAD_ATTR 1 (bullets) 105

@PUSH_INTEGER 15 106

@LOAD_LOCAL 0 (i) 106




@MUL 0

@PUSH_NUMBER 7.5 106

@PUSH_INTEGER -1 0

@MUL 0

@ADD 0

@PUSH_THIS 106



@PUSH_THIS 106

@LOAD_ATTR 6 (game) 106



@NEW 1 (Bullet) 3 106

@CALL_ATTR 0 (push) 1 105



    @PUSH_INTEGER 1 0

    @LOAD_LOCAL 0 (i) 0




    @ADD 104
    @STORE_LOCAL 0 (i) 0


    @LABEL 0x13 104
        @PUSH_INTEGER 2 104

    @LOAD_LOCAL 0 (i) 104




    @GREATER 0

    @FOR 0x14 104

    @GOTO 0x11 101
    @LABEL 0x12 101
    @LABEL 0x11 101

    @GOTO 0xf 0
    @LABEL 0xf 0

    @LABEL 0xd 97

}

FUNC 1 (init) public void  {
}

FUNC 2 (render) public void  {
}

$CONSTRUCTOR 0 (constructor) default void game Game {
@PUSH_STRING "ship" 80
@PUSH_THIS 0

@STORE_ATTR 4 (sprite) 0


@PUSH_INTEGER 60 81
@PUSH_THIS 0

@STORE_ATTR 1 (width) 0


@PUSH_INTEGER 60 82
@PUSH_THIS 0

@STORE_ATTR 2 (height) 0


@LOAD_LOCAL 0 (game) 83



@PUSH_THIS 0

@STORE_ATTR 6 (game) 0


}

}

SCENE 3 (Game) -1 {
$INITIALIZE 0 (constructor) default void {
@PUSH_NULL 117



@STORE_CLASS 0 (ship) 117

@ARRAY 0 0

@STORE_CLASS 1 (bullets) 118

@ARRAY 0 0

@STORE_CLASS 2 (enemies) 119

@PUSH_INTEGER 0 121

@STORE_CLASS 3 (enemy_timer) 121

}
FUNC 0 (init) public void  {
    @PUSH_THIS 124



    @NEW 2 (Ship) 1 124
@PUSH_THIS 0

@STORE_ATTR 0 (ship) 0


}

FUNC 1 (render) public void  {
    @PUSH_INTEGER 1 128

    @PUSH_NUMBER 0.5 128

    @PUSH_NUMBER 0.4 128

    @CALL_BUILTIN 4 (background) 3 128

    @PUSH_INTEGER 0 130

    @STORE_LOCAL 0 (i) 0

    @GOTO 0x15 130
    @LABEL 0x16 130
    @PUSH_THIS 131

@LOAD_ATTR 1 (bullets) 131

@LOAD_LOCAL 0 (i) 131




@ARRAY_GET 131
@CALL_ATTR 2 (render) 0 131



    @PUSH_INTEGER 1 0

    @LOAD_LOCAL 0 (i) 0




    @ADD 130
    @STORE_LOCAL 0 (i) 0


    @LABEL 0x15 130
        @PUSH_THIS 130

@LOAD_ATTR 1 (bullets) 130

@CALL_ATTR 1 (size) 0 130



    @LOAD_LOCAL 0 (i) 130




    @GREATER 0

    @FOR 0x16 130

    @PUSH_INTEGER 0 134

    @STORE_LOCAL 0 (i) 0

    @GOTO 0x17 134
    @LABEL 0x18 134
    @PUSH_THIS 135

@LOAD_ATTR 2 (enemies) 135

@LOAD_LOCAL 0 (i) 135




@ARRAY_GET 135
@CALL_ATTR 3 (render) 0 135



    @PUSH_INTEGER 1 0

    @LOAD_LOCAL 0 (i) 0




    @ADD 134
    @STORE_LOCAL 0 (i) 0


    @LABEL 0x17 134
        @LOAD_CLASS 2 (enemies) 134

@CALL_ATTR 1 (size) 0 134



    @LOAD_LOCAL 0 (i) 134




    @GREATER 0

    @FOR 0x18 134

    @PUSH_THIS 138

@LOAD_ATTR 0 (ship) 138

@CALL_ATTR 2 (render) 0 138



    @PUSH_THIS 140

@CALL_ATTR 2 (ui) 0 140



}

FUNC 2 (ui) public void  {
    @PUSH_INTEGER 24 144

        @PUSH_INTEGER 250 144

    @PUSH_INTEGER 350 144

@PUSH_INTEGER -1 0

@MUL 0

@VECTOR 2 144

    @LOAD_GLOBAL 2 (fps) 144



@CAST string 144

@PUSH_STRING "Fps : " 144

@ADD 0

    @PUSH_STRING "Godo" 144

    @CALL_BUILTIN 13 (text) 4 144

}

FUNC 3 (tick) public void  {
    @PUSH_THIS 148

@LOAD_ATTR 0 (ship) 148

@CALL_ATTR 0 (tick) 0 148



    @PUSH_INTEGER 0 150

    @STORE_LOCAL 0 (i) 0

    @GOTO 0x19 150
    @LABEL 0x1a 150
    @PUSH_THIS 151

@LOAD_ATTR 1 (bullets) 151

@LOAD_LOCAL 0 (i) 151




@ARRAY_GET 151
@CALL_ATTR 0 (tick) 0 151



    @PUSH_INTEGER 1 0

    @LOAD_LOCAL 0 (i) 0




    @ADD 150
    @STORE_LOCAL 0 (i) 0


    @LABEL 0x19 150
        @LOAD_CLASS 1 (bullets) 150

@CALL_ATTR 1 (size) 0 150



    @LOAD_LOCAL 0 (i) 150




    @GREATER 0

    @FOR 0x1a 150

    @PUSH_INTEGER 0 154

    @STORE_LOCAL 0 (i) 0

    @GOTO 0x1b 154
    @LABEL 0x1c 154
    @PUSH_THIS 155

@LOAD_ATTR 2 (enemies) 155

@LOAD_LOCAL 0 (i) 155




@ARRAY_GET 155
@CALL_ATTR 1 (tick) 0 155



    @PUSH_INTEGER 1 0

    @LOAD_LOCAL 0 (i) 0




    @ADD 154
    @STORE_LOCAL 0 (i) 0


    @LABEL 0x1b 154
        @LOAD_CLASS 2 (enemies) 154

@CALL_ATTR 1 (size) 0 154



    @LOAD_LOCAL 0 (i) 154




    @GREATER 0

    @FOR 0x1c 154

    @PUSH_INTEGER 500 158

    @CALL_BUILTIN 5 (random) 0 158

@DIV 0

    @PUSH_THIS 0

@LOAD_ATTR 3 (enemy_timer) 0



    @ADD 158
    @PUSH_THIS 0

@STORE_ATTR 3 (enemy_timer) 0


    @PUSH_INTEGER 1 160

    @PUSH_THIS 160

@LOAD_ATTR 3 (enemy_timer) 160



    @EQ_LESSER 0

    @IF 0x1e 160
    @PUSH_INTEGER 0 161
@PUSH_THIS 0

@STORE_ATTR 3 (enemy_timer) 0


    @PUSH_THIS 162

@LOAD_ATTR 2 (enemies) 162

@PUSH_THIS 162



@NEW 0 (Enemy) 1 162

@CALL_ATTR 0 (push) 1 162



    @GOTO 0x1d 160
    @LABEL 0x1e 160
    @LABEL 0x1d 160

}

$CONSTRUCTOR 0 (constructor) default void {
}

}

FUNC 0 (main) default void  {
    @NEW 3 (Game) 0 168

    @CALL_BUILTIN 2 (load_scene) 1 168

    @PUSH_INTEGER 600 170

    @PUSH_INTEGER 800 170

    @PUSH_STRING "shooooting game!!" 170

    @CALL_BUILTIN 1 (window) 3 170

}

